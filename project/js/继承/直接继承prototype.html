<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function Pig(n) {
        this.name = n
        this.skill1 = '36变'
        this.skill2 = '吃很多'
      }

      function Monkey() {}
      Monkey.prototype.M_name = '孙悟空'
      Monkey.prototype.M_skill1 = '72变'
      Monkey.prototype.M_skill2 = '筋斗云'

      // Pig.prototype = Monkey.prototype
      // Pig.prototype.constructor = Pig

      // 以空对象作为中介
      extends_(Monkey, Pig)

      var p_g = new Pig('佩奇')
      console.log(p_g)
      console.log(p_g.M_skill2)
      console.log(p_g.constructor)

      // 另外一个问题：修改子（Pig）类对象对父类（Monkey）产生了影响
      p_g.__proto__.M_skill1 = '7200变'
      console.log(p_g)

      console.log(Monkey.prototype.M_skill1)

      // 解决办法：利用空对象作为中介

      function extends_(f, c) {
        function Fn() {}
        Fn.prototype = f.prototype
        c.prototype = new Fn()
        c.prototype.constructor = c
      }
    </script>
  </body>
</html>
