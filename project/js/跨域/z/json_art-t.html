<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <script src="./template-web.js"></script>
</head>

<body>
    <div id="container"></div>
    <script type="text/html" id="myfirst">
        {{each a}}
        <div>
            {{$index}}
            <h1>{{$value.imgtitle}} üÜîÔºö{{$value.photoid}}</h1>
            <img src="{{$value.imgurl}}" alt="" />
            <p>{{$value.note}}</p>
            {{if $value.msg}}
            <i>{{$value.msg}}</i>
            {{else}}
            <i>ÂìàÂìàÂìà</i>
            {{/if}}
        </div>
        {{/each}}
    </script>

    <script>
        if (window.XMLHttpRequest) {
            var myajax = new XMLHttpRequest()
        } else {
            var myajax = new ActiveXObject('Microsoft.XMLHTTP')
        }
        myajax.open('get', './art-data.json', true)
        myajax.send()
        myajax.onreadystatechange = function () {
            if (myajax.readyState == 4) {
                if (myajax.status == 200) {
                    var res = JSON.parse(myajax.responseText)
                    console.log(res)
                    var html_ = template('myfirst', {
                        a: res.list,
                    })
                    container.innerHTML = html_
                }
            }
        }
    </script>



    <input type="text" id="q" />
    <button onclick="search_()">ÊêúÁ¥¢</button>
    <ul id="list">

    </ul>
    <script>
        function cbb(res) {
            console.log(res)

            var lis = ''
            for (var i = 0; i < res.result.length; i++) {
                lis += '<li>' + res.result[i][0] + '</li>'

            }
            console.log(lis)
            list.innerHTML = lis
        }

        function search_() {
            var v = q.value
            if (v.trim() == '') return

            var script_ = document.createElement('script')
            script_.src =
                'http://suggest.taobao.com/sug?code=utf-8&q=' + v + '&callback=cbb'

            document.documentElement.appendChild(script_)
            console.log(script_)
        }
    </script>
</body>

</html>
