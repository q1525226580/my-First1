<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="text" id="q" />
    <button onclick="search_()">搜索</button>
    <ul id="list">
      <!-- <li>
        <h3></h3>
        <p>时间：<span></span> 地址：<span></span>年份:<span></span></p>
        <div>
          <img src="" alt="" />
          <div>sssssssss</div>
        </div>
      </li> -->
    </ul>
    <script>
      function cbb(res) {
        console.log(res)
        // 数据渲染到页面，用户才能看得到
        var lis = ''
        for (var i = 0; i < res.result.length; i++) {
          lis += '<li>' + res.result[i][0] + '</li>'
          // 字符串拼接的方式来渲染数据，可以，但是，太繁琐，冗余，不够灵活。效率低下。   推荐模版引擎 dot/art-template..s

          // lis+='<li>';
          // lis+='<h3></h3>'
          // lis+='<p>'
          //   lis+='<span>'
          // lis+='</p>'
          // lis+='</li>'
        }
        console.log(lis)
        list.innerHTML = lis
      }

      function search_() {
        var v = q.value
        if (v.trim() == '') return
        // jsonp
        var script_ = document.createElement('script')
        script_.src =
          'http://suggest.taobao.com/sug?code=utf-8&q=' + v + '&callback=cbb'

        document.documentElement.appendChild(script_)
        console.log(script_)
      }
    </script>
  </body>
</html>
