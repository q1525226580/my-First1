<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- 1.å¼•å…¥art.js -->
    <script src="./template-web.js"></script>
  </head>
  <body>
    <!-- 2.å‡†å¤‡ä¸€ä¸ªé¡µé¢å®¹å™¨ï¼Œæ¥å­˜æ”¾æ¸²æŸ“çš„æ•°æ® -->
    <div id="container"></div>

    <!-- åˆ›å»ºæ¨¡ç‰ˆ -->
    <script type="text/html" id="myfirst">
      {{each a}}
      <div>
        {{$index}}
        <h1>{{$value.imgtitle}} ğŸ†”ï¼š{{$value.photoid}}</h1>
        <img src="{{$value.imgurl}}" alt="" />
        <p>{{$value.note}}</p>
        {{if $value.msg}}
        <i>{{$value.msg}}</i>
        {{else}}
        <i>å“ˆå“ˆå“ˆ</i>
        {{/if}}
      </div>
      {{/each}}
    </script>

    <script>
      // 3.è·å–æ•°æ®
      if (window.XMLHttpRequest) {
        var myajax = new XMLHttpRequest()
      } else {
        var myajax = new ActiveXObject('Microsoft.XMLHTTP')
      }

      myajax.open('get', './art-data.json', true)
      myajax.send()
      myajax.onreadystatechange = function () {
        if (myajax.readyState == 4) {
          if (myajax.status == 200) {
            var res = JSON.parse(myajax.responseText)
            console.log(res)
            // 4.ä½¿ç”¨æ¨¡ç‰ˆå¼•æ“
            //  template(æ¨¡ç‰ˆåç§°ï¼Œ{æ•°æ®}) æ¨¡ç‰ˆçš„æ¸²æŸ“   è¿”å›æ¸²æŸ“å¥½æ•°æ®åçš„æ¨¡ç‰ˆ
            // æ¨¡ç‰ˆéœ€è¦è‡ªå·±å®ç° ã€‚æ¨¡ç‰ˆä¸èƒ½å†™åœ¨å®¹å™¨ä¸­  ï¼Œ è¦å†™åœ¨templateæ–¹æ³•ä¹‹å‰ã€‚

            var html_ = template('myfirst', {
              a: res.list,
            })
            container.innerHTML = html_
          }
        }
      }
    </script>
  </body>
</html>

<!-- 

 // <script type="text/html" id="æ¨¡ç‰ˆåç§°">
              //     æ¨¡ç‰ˆç»“æ„
              // </script>

 -->
