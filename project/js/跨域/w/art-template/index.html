<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- 1.引入art.js -->
    <script src="./template-web.js"></script>
  </head>
  <body>
    <!-- 2.准备一个页面容器，来存放渲染的数据 -->
    <div id="container"></div>

    <!-- 创建模版 -->
    <script type="text/html" id="myfirst">
      {{each a}}
      <div>
        {{$index}}
        <h1>{{$value.imgtitle}} 🆔：{{$value.photoid}}</h1>
        <img src="{{$value.imgurl}}" alt="" />
        <p>{{$value.note}}</p>
        {{if $value.msg}}
        <i>{{$value.msg}}</i>
        {{else}}
        <i>哈哈哈</i>
        {{/if}}
      </div>
      {{/each}}
    </script>

    <script>
      // 3.获取数据
      if (window.XMLHttpRequest) {
        var myajax = new XMLHttpRequest()
      } else {
        var myajax = new ActiveXObject('Microsoft.XMLHTTP')
      }

      myajax.open('get', './art-data.json', true)
      myajax.send()
      myajax.onreadystatechange = function () {
        if (myajax.readyState == 4) {
          if (myajax.status == 200) {
            var res = JSON.parse(myajax.responseText)
            console.log(res)
            // 4.使用模版引擎
            //  template(模版名称，{数据}) 模版的渲染   返回渲染好数据后的模版
            // 模版需要自己实现 。模版不能写在容器中  ， 要写在template方法之前。

            var html_ = template('myfirst', {
              a: res.list,
            })
            container.innerHTML = html_
          }
        }
      }
    </script>
  </body>
</html>

<!-- 

 // <script type="text/html" id="模版名称">
              //     模版结构
              // </script>

 -->
